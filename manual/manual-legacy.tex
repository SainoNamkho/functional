% -*- coding: utf-8 -*-
% !TEX program = lualatex
\documentclass[oneside]{book}

\input{manual.sty}
\CodeHigh{lite}

\begin{document}

\chapter{Legacy Concepts (\texttt{Legacy})}

There are a small number of \TeX{} or \LaTeXe{} concepts which are not used
in \pkg{functional} code but which need to be manipulated when working as a \LaTeXe{}
package. To allow these to be integrated cleanly into \pkg{functional} code, a set
of legacy interfaces are provided here.

\begin{function}{\LegacyIf,\LegacyIfT,\LegacyIfF,\LegacyIfTF}
\begin{syntax}
\cs{LegacyIf} \Arg{name}
\cs{LegacyIfT} \Arg{name} \Arg{true code}
\cs{LegacyIfF} \Arg{name} \Arg{false code}
\cs{LegacyIfTF} \Arg{name} \Arg{true code} \Arg{false code}
\end{syntax}
Tests if the \LaTeXe{}/plain \TeX{} conditional (generated by \tn{newif})
if \texttt{true} or \texttt{false} and branches \hbox{accordingly}. The
\meta{name} of the conditional should \emph{omit} the leading \texttt{if}.
\begin{demohigh}
\newif \ifFooBar
\LegacyIfTF {FooBar} {\Return{True!}} {\Return{False!}}
\end{demohigh}
\end{function}

\begin{function}{\LegacyIfSetTrue,\LegacyIfSetFalse}
\begin{syntax}
\cs{LegacyIfSetTrue} \Arg{name}
\cs{LegacyIfSetFalse} \Arg{name}
\end{syntax}
Sets the \LaTeXe{}/plain \TeX{} conditional \verb|\if|\meta{name}
(generated by \tn{newif}) to be \texttt{true} or \texttt{false}.
\begin{demohigh}
\newif \ifFooBar
\LegacyIfSetTrue {FooBar}
\LegacyIfTF {FooBar} {\Return{True!}} {\Return{False!}}
\end{demohigh}
\end{function}

\begin{function}{\LegacyIfSet}
\begin{syntax}
\cs{LegacyIfSet} \Arg{name} \Arg{boolexpr}
\end{syntax}
Sets the \LaTeXe{}/plain \TeX{} conditional \verb|\if|\meta{name}
(generated by \tn{newif}) to the result of evaluating the
\meta{boolean expression}.
\begin{demohigh}
\newif \ifFooBar
\LegacyIfSet {FooBar} {\cFalseBool}
\LegacyIfTF {FooBar} {\Return{True!}} {\Return{False!}}
\end{demohigh}
\end{function}

\end{document}
