%  -*- coding: utf-8 -*-

\documentclass{article}

\usepackage{functional}

\Functional{scoping=false,tracing=true}

\begin{document}

\ExplSyntaxOn

\PrgNewFunction \IntMathSquare { m }
  {
    \int_set:Nn \l_tmpa_int { \int_eval:n { #1 * #1 } }
    \ExpResult { \int_use:N \l_tmpa_int }
  }

\PrgNewFunction \IntMathFactorial { m }
  {
    \IntCompareTF { #1 } = { 0 }
      { \Result { 1 } }
      {
        \TlSet \lTmpaTl
          {
            \IntMathMultiply { #1 }
              { \IntMathFactorial { \IntMathSubtract{#1}{1} } }
          }
        \ExpResult { \tl_use:N \lTmpaTl }
      }
  }

\ExplSyntaxOff

\IntMathSquare{5}

\IntMathAdd{7}{3}
\IntMathSubtract{7}{3}
\IntMathMultiply{7}{3}
\IntMathDivide{7}{3}

\IntMathSquare{\IntMathSquare{5}}

\GobbleOne{abc} \UseOne{uvw}
\UseGobble{abc}{uvw} \GobbleUse{abc}{uvw}

\BoolIfTF\cTrueBool{\Result{true}}{\Result{false}}
\BoolIfTF\cFalseBool{\Result{true}}{\Result{false}}

\TlSet{\lTmpiTl}{\IntMathSquare{4}}

\TlSet{\lTmpaTl}{abc}
\TlSet{\lTmpbTl}{abc}
\TlSet{\lTmpcTl}{xyz}
\TlIfEqTF{\lTmpaTl}{\lTmpbTl}{\Result{first}}{\Result{second}}
\TlIfEqTF{\lTmpaTl}{\lTmpcTl}{\Result{first}}{\Result{second}}

\IntCompareTF{2}>{1}{\Result{first}}{\Result{second}}
\IntCompareTF{2}>{3}{\Result{first}}{\Result{second}}

\IntMathFactorial{0}
\IntMathFactorial{4}

\end{document}

